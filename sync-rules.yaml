// sync-rules.yaml for Powersync

bucket_definitions:
  user_doctors:
    # Separate bucket per doctor
    parameters: select id as doctor_id from doctors where owner_id = request.user_id()
    data:
      - select * from doctors where id = bucket.doctor_id
      - select * from patients where doctor_id = bucket.doctor_id
      - select * from attendances where doctor_id = bucket.doctor_id
